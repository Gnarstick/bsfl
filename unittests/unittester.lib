declare -r DIR=$(cd "$(dirname "$0")" && pwd)
logfile=$DIR/../monpetitlog.log
## @fn check()
## @brief check errcode of function.
## @param function to test (with args).
## @param expected errcode.
check(){
	result=2
	echo "Testing $1 : "
	tested=$($1)
	result=$?
if [[ $result == $2 ]]
then
	echo [ ok ]
else 
	echo [ ko ]
	echo "Error testing $1"  >> $logfile
	errnum=$((errnum+1))
fi
}
## @fn echocheck()
## @brief check echo of function.
## @param function to test with args.
## @param expected echo.

echocheck(){
	result=2
	echo "Testing $1 : "
	result=$($1)
	#result=$?
if [[ $result == $2 ]]
then
	echo [ ok ]
else 
	echo [ ko ]
	echo "Error testing $1"  >> $logfile
	errnum=$((errnum+1))
fi
}
## @fn conclude()
## @brief conclude one test sequence.
## @param tested function name.

conclude(){
if [[ $errnum == 0 ]]
then
	echo "All test OK"
	echo "$1 : All test OK" >> $logfile
elif [[ $errnum == 1 ]]
then
    echo "There is 1 error in $1"
    echo "There is 1 error in $1"  >> $logfile
else 
	echo "There is $errnum errors in $1" 
	echo "There is $errnum errors in $1"  >> $logfile
fi
echo "" >> $logfile
totalerr=$((errnum+totalerr))
}
